\Lecture{Jayalal Sarma}{Sep 9, 2020}{01}{Pigeon Hole Principle and Basic Applications}{Jayalal Sarma}{$\alpha$}{JS}

We start course with the simplest but surprising powerful tool in combinatorial arugments which is the pigeon hole principle. Through this principle as an example, we will also quick review the methods of proof. 

\section{Quick Recap on Proof Techniques} 

A formal mathematical proof system in our context has axioms about various mathematical objects that we are using, like numbers, graphs which describes them through their properties. Then, there are rules of inferences such as modus ponens, modus tollens, resolution, syllogisms etc which helps us derive new statements from these axioms. 

The peculiarity of these rules of inferences are that they "conduct truth"  and forms building blocks for huge "truth conducting" structures called mathematical proofs. That is, if for any object\footnote{a little more formally, the assignment in the propositional logic, and model in general first oder logic}, the premises of the rules of inference are true, then the conclusion is also true for them.   Hence, suppose we derive a statement $\phi$ starting with the axioms, applying the rules of inferences in various combinations. Since the individual rules of inferences "conduct truth", the resulting structure also conducts truth and is called the mathematical proof of the statement $\phi$ from the axioms. Note that the truth of the statement $\phi$ for the object under consideration can be stated on relative to the truth of the axioms that we used. However, this is not a concern, since we are intending to use the mathematical proof systems to derive statements about objects which we know would satisfy the axioms (in fact, we wrote down axioms as properties of those objects.
\begin{curiosity}
It is an amusing question to ask, whether there are other objects, which we did not intend to, which also satisfies the axioms that we wrote, by accident. Say for example, we wrote the axioms for graphs, but "strings" also satisfies them. If so, the theorems that we prove for graphs using only those axioms will also be true for strings, automatically !!. Quite interestingly this is true for natural numbers. The mathematical theory of natural numbers is axiomatized by what are called the Peano's axioms. There are numbers that one can define which are different from natural numbers for which any theorem that we prove for natural numbers also are true (because they satisfy the Peano's axioms). Then one might ask, are we not trying to represent exactly natural numbers? So should we not augment Peano's axioms with more properties of natural numbers such that we remove such {\em unwanted} parallel models from satisfying the axioms we write. Even more interestingly, one can argue that this is not even possible. No matter, what extra formula we write the existence of such "parallel models" us inevitable. In fact, not just one "parallel model", there will be infintiely many of them. You should read about {\em L\"owenheimâ€“Skolem theorem}.
\end{curiosity}

Writing down mathematical proofs explicitly by using rules of inference may seem to be a mechanical way of proving statements. While it avoids any chance of mistakes because of the mathematical precision and rigor it affects quick readability and communication of ideas. Hence, one would like to have more "human readable" ways of representing these proofs by writing some of the steps in English, while ensuring that we do not lose the mathematical rigor. This brings in some subjectivity about how "formal" a proof is - that is, how close is it to the formal mathematical framework of rules of inferences in terms of notations, presentation etc.  Sometimes, very rigorous proofs tend to hide the intuitive idea behind the proof which one tends to (and sometimes need to) describe separately for easy communication. The more formal your proof is, the less chances of you making a logical error in the proof. It is a good idea to start writing proofs with the mindset of "rigor extremist" and once you are comfortable and see through the mathematically rigorous steps of a statement, you can rely more in English sentences. This course particularly would do it in the latter way, but ensuring that mathematical rigor is kept in tact. The beauty of the combinatorial proofs lies in the elegance and the combinatorial insight and intuition. Balancing the intuition with rigor in presentations and descriptions lies in the art of presentations.

Suppose that we have to prove a statement $\gamma$ of the form $p \rightarrow q$.  We quickly recall the different ways of proof in the above described form. 

\begin{description}
\item{\bf Direct Proof:} Assume $p$ and then derive $q$ using the assumption and the axioms by applying the rules of inferences. The is considered as a proof of the statement $p \implies q$ since it can be associated with a valid argument form by itself.
\item{\bf Indirect Proof:} Assume $\lnot q$ and then derive $\lnot p$. Again, this is also considered as a proof of the statement $p \implies q$ since it can be associated with a valid argument form by itself. This is also called proof by {\em contrapositive}.
\item{\bf Proof by Contradiction:}
A proof by contradiction, assumes the negation of the statement to be proven (that is, $\lnot \gamma$) and then defined a statement $r$ (this forms a part of creativitiy of the proof), and then derives $r \land (\lnot r)$ from the assumption and axioms using the rules of inferences. By an associated valid argument form, this shows that $\gamma$ must be true, again, by associating the definition of a valid argument form.
\end{description}
In addition, while proving quantified statements, there are a few additional ideas that are used which we quickly review below:
\begin{description}
\item{\bf Proof by Exhaustive Cases:} Suppose we want to derive a statement $\Gamma$ of the form $\forall \alpha P(\alpha)$ where $\alpha$ comes from domain of discourse $\cal{D}$ (say, for example, $\alpha$ is a natural number, that is, $\cal{D} = \N)$.  We can partition $\calD = \calD _1 \cup \calD_2 \ldots \cup \calD_k$ into several subdomains and prove the statement $\forall \alpha \in \calD_i,~P(\alpha)$ separately. Each part of the proof  $\forall \alpha \in \calD_i P(\alpha)$ is said to be a "case" of the proof. The fact that, $\calD = \calD_1 \cup \calD_1 \ldots \cup \calD_k$  is what is meant by the statement that the case analysis is {\em exhaustive}.
\item{\bf Proof by "Counter Example":} Suppose we want to disprove statements of the form $\forall \alpha P(\alpha)$. That is, we want to derive $\lnot\left(\forall \alpha P(\alpha)\right)$ which is logically equivalent to $\exists \alpha \lnot P(\alpha)$. Hence it suffices to demonstrate an $\alpha$ in the domain for which we can show $P(\alpha)$ is false.
\item{\bf Proof by Mathematical Induction:} This is a technique to prove statements of the form $\forall \alpha P(\alpha)$ where the domain $\calD$ is countably infinite. That is, the domain $\calD$ can be put in bijection with the set of natural numbers. The technique forms part of the Peano's axioms that define the natural numbers and hence is a valid proof technique. If $\phi : \N \to \calD$ is a bijection, in order to prove $\forall \alpha P(\alpha)$, we can equivalently prove $\forall n \in \N, P(\phi(n))$. In particular, it takes the following form:
\textit{If we can prove $P(\phi(0))$ and the implication $\left[ \forall  n \in \mathbb{N}, P(\phi(n)) \implies P(\phi(n+1) \right]$  then we can conclude  $\forall n~ P(\phi(n)) $}.
There are versions of this proof techniques such as strong induction, structural induction, spiral induction, double induction etc which are adaptations of the above basic idea.
\end{description}

Most of the proofs that we do in the courses will follow one of the above frameworks. We will not do examples of these techniques since that is already covered in the basic discrete mathematics course. 

\section{The Pigeon Hole Principle (PHP)}

With the quick recap done in the previous part, we now plunge into the actual business in this lecture. We first prove the following basic version of the Pigeon hole principle.
\begin{theorem}
Let $n,k \in \N$, such that $n > k$. Suppose we place $n$ identical balls in $k$ identical bins, then there is a bin that has  at least  two balls in it.
\end{theorem}
\begin{proof}
Let $n, k \in \N$ and $n > k$. Assume for the sake of contradiction that when we placed the balls into the bins as indicated in the theorem, there was no bin with at least two balls in it. 

As such the bins are identical, but number them from $1$ to $k$ now. Using this notation, let us define $b_i$ to be the number of balls that went into the bin number $i$. Clearly $\forall i, b_i \ge 0$. Since we did distribute all the balls into the bins, we have :
$$\calR : \sum_{i=1}^k b_i = n $$
Using the assumption, we have that: $\forall i, 0 \le b_i \le 1$. Summing up for $i$:
$\sum_{i=1}^k b_i \le \sum_{i=1}^k 1 = k < n$. Hence we have derived the statement :
$$\lnot \calR : \sum_{i=1}^k b_i \ne n$$
Hence we have derived $\calR \land \lnot \calR$. This is a contradiction and hence the original assumption that we started out with must be false and hence there has to exist a bin which has two balls in it.
\end{proof}

\begin{curiosity}
The formal proof of PHP as simple as it sounds is still a subject of substantial research in an area called \textit{proof complexity}. To demonstrate this, let us write the principle itself in more rigorous notations. Let $n > k$, and $\{ x_{ij} \mid  i \in [n], j \in [k] \}$ be propositional variables (which can be called, say {\em pigeon hole variables}). Following our original notation, where there are $n$ pigeons and $k$ holes, the basic Pigeon Hole Principle is the following Disjunctive normal form formula : 
$$\textrm{\sc PHP}_k^n \defn \left( \bigvee_{i \in [n]} \bigwedge_{j \in [k]} \bar{x_{ij}} \right) \lor \left( \bigvee_{j \in [k]} \bigvee_{r \ne s \in [n]} (x_{rj} \land x_{sj}) \right) $$
To prove this, one possibility is to derive the contradiction from the negation of 
$\textrm{\sc PHP}_k^n$. This is an expression in conjunctive normal form, with clauses:
$$ \textrm{For $i \in [n]$ the clauses : } Q_i \defn \bigvee_{j=1}^k x_{ij} $$
$$\textrm{ and for $s \ne t \in [n], j \in [k]$ the clauses } Q_{s,t,j} \defn \bar{x_{sj}} \lor \bar{x_{tj}}$$
Intuitively,  these say that there is a function from $[n] \to [k]$ (which is represented by $x_{ij}=1$ to mean that the function takes $i$ to $j$) which is well defined (for every $i$, there exists a $j$ such that $x_{ij} = 1$) and also injective (for two different $s$ and $t$, it is not the case that $x_{si}$ is $1$ and $x_{tj}$).
Since $n > k$, there cannot be an injection, and hence the negation of the conjunction of these clauses $\textrm{\sc PHP}_k^n$ must be true.

Suppose we ask, starting from these clauses as axioms, and applying rules of inferences (say the resolution principle) alone, how many steps of proof does one need to do to derive the contradiction ($r \land \lnot r$ for some $r$). \footnote{Notice that this sounds exactly like computation, how many steps of computation is required in order to certain tasks in terms of input parameters}. We measure this in terms of $n$ and $k$ which determines the number of variables in the system. The area which studies the complexity of proofs in the above is called {\em proof complexity theory}. It turns out the the basic PHP itself is one of the tautologies for which one requires exponentially long proofs if we are restricting ourselves to resolution? What if we relax this? The area has several interesting open questions related to this and they have close connections to computational complexity theory too.
\end{curiosity}

\subsection{A Quick Example: }

We will now demonstrate the application of the principle itself by a quick example. This is meant to be a revision of the topic from the previous courses and hence it is very much possible that you have seen the application earlier.

\begin{theorem}
If you consider any five points placed inside the unit square then there must necessarily exist two points are at most $0.75$ unit away from each other.
\end{theorem}
\begin{proof}
Firstly, to make it sound less magical, let us comment that  theorem is actually true for $0.75$ units replaced by $0.707$ units which is actually $\frac{1}{\sqrt{2}}$. The application of PHP goes as follows. Consider four small squares which are obtained by the midpoint of the square as one of the corners. These small squares form the bins and the five points that we place forms the balls. By applying PHP, we conclude that there must be two points which falls into the same small square. Now the argument can be completed by the fact that the maximum distance between any two points which are in the same small square is at most $\frac{1}{\sqrt{2}}$ since the sides of the square are $\frac{1}{2}$ each.
\end{proof}
\begin{remark}[{\bf Tightness}]
Is the above theorem tight? Can it be improved? Improvement can be in terms of two parameters. Firstly, can we make the same claim for 4 points? Secondly, even for 5 points, can we make an improved claim about the minimum distance being, say 0.7 units? The answer to both these questions are no. For the first, we can demonstrate  4 points in which every pair is at least one distance away - the four corners themselves will serve as a counter example. For the second question, we can demonstrate 5 points which are actually only pairwise at least $\frac{1}{\sqrt{2}}$ distance away. 
\end{remark}

\begin{remark}[{\bf Glimpse of Extremals in Combinatorics}]
The above example theorem, while is a classical application of Pigeon Hole Principle, it also demonstrates a curious phenomenon. In spirit it says that \textit{if there are large number of objects in a collection, then there must be some structure}. Question is how large? And what is structure? The answers to these vary and forms the foundations of this area. We will see more of this when we see Ramsey Theory.
\end{remark}

\section{Numbers and Remainders}

It is customary to do an example of PHP from numbers and division under remainders. We will do a slightly unusual example. 

\begin{theorem}
Consider the infinite sequence $7, 77, 777, \ldots ,7777777, \ldots $ - there must necessarily exist a number in this sequence that is divisible by 2003.
\end{theorem}
\begin{proof}
As weird as it sounds, one might wonder how does PHP play a role. There does not seem to be any place to apply PHP directly in the statement of the problem. Indeed, infinitude seems to indicate that we are allowed to take large numbers in the sequence. A usual trick is the division, and then consider the remainders.

As a start, consider  first 2003 numbers in the sequence. Denote them by $n_1, n_2, \ldots n_{2003}$. Divide them by 2003 and collect the remainders that we see. Denote them by $a_1, a_2, \ldots, a_{2003}$. If any of the $a_i$s are 0, then we are done since that  Indeed, we have that $1 \le a_i \le 2002$. Clearly, now the pigeons and holes are visible now. The numbers $n_i$s are the pigeons and the reminders are the holes. There are only 2002 holes but there are 2003 pigeons and hence by PHP, there must exists $1 \le i < j \le 2003$ such that $a_i = a_j$. This gives:
\begin{eqnarray}
n_i  \mod 2003 = n_j \mod 2003 \\
(n_i - n_j) \mod 2003 =  0\\
2003 \textrm{ divides } (n_i - n_j) \\
\end{eqnarray}

That is good progress. We managed to show 2003 divides $(n_i - n_j)$. However, $n_i - n_j$ unfortunately, will not be in the sequence at all. How will this number look like? By the structure of the numbers, this difference will be a number of $7$s and then several zeros. More precisely computing these number, we have that:
$$(n_i - n_j) = n_{j-i} 10^{j-i}$$
So we have that $2003$ divides the product of $n_{j-1}$ and $10^{j-i}$. However, 2003 being an odd number which is not a multiple of $5$ will not have a common factor with any power of 10. Hence 2003 must necessarily divide $n_{j-i}$ which should be there in the sequence. This completes the proof.
\end{proof}

\section{Graphs}

Our third application is related to problems that can be modelled as graphs.

\begin{theorem}
In any chess tournament, where there are $n$ participants, at any point of time there must be two participants who finished the same number of games in the tournament.
\end{theorem}
It is natural to model this situation as a graph with $n$ vertices where each vertex represents a participant and we put an edge between two vertices if player $i$  and player $j$ have played a game with each other. The number of games played by a player is exactly the degree of the vertex in this graph. Rewriting the above theorem in the new language now:
\begin{theorem}
In any undirected graph $G$, there must be two vertices which are having the same degree.
\end{theorem}
\begin{proof}
The proof is by an exhaustive case analysis. We need to argue the above for all graphs. We divide this domain into two based on whether there is an isolated vertex or not.
\begin{description}
\item{\bf Case 1 : $G$ has an isolated vertex} - In this case, there is a vertex of degree $0$, and hence there cannot be a vertex of degree $n-1$. Thus we have $n$ vertices, and only $n-1$ possible degree values $\{10,,2,\ldots n-2\}$. By the PHP, we must see two vertices which has the same degree.
\item{\bf Case 2: $G$ does not have an isolated vertex} - In this case, there is no vertex of degree $0$, and hence the degree values of vertices can only be in the set $\{1, 2, \ldots n-1\}$. Again we have $n$ vertices whose degrees take only $n-1$ possible values. Again, by PHP, we must see two vertices having the same degree.
\end{description}
\end{proof}

\begin{exercise-prob}[See Problem Set 1~(Problem \ref{mutual-friends})]
\begin{show-ps1}{mutual-friends}
A social network is said to be symmetric if the relation between users that is maintained as a part of the network, is symmetric. Consider a symmetric social network  and let the symmetric relation maintained be that of ``user $A$ and $B$ are {\em friends}" (like in the case of facebook). A user $C$ is said to be a \textit{mutual friend} of users $A$ and $B$ if, $C$ is a friend of both $A$ and $B$. Prove that - for any user $A$ of the network who has at least two friends, there must exist two friends of $A$ who has the same number of mutual friends with $A$. 

Comment on whether symmetry is critical for your argument. Take the example of {\em instagram} where the symmetric relation of {\em friends} is replaced by {\em followers}. Generalize the definition of mutual friends to {\em mutual followers}. Comment on whether a similar statement for followers can be established in this case.
\end{show-ps1}
\end{exercise-prob}

\section{Discussion Session}